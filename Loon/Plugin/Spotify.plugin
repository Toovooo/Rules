#!name = Spotify
#!desc = 解锁premium
#!icon = https://raw.githubusercontent.com/Toovooo/Rules/master/Icon/Line/Spotify.png
#!date = 2023.11.29

[Script]
http-request ^https:\/\/spclient\.wg\.spotify\.com\/(artistview\/v1\/artist|album-entity-view\/v2\/album)\/ script-path = https://raw.githubusercontent.com/Toovooo/Rules/master/Script/Spotify/SpotifyJson.js, timeout = 10, tag = Spotify Json
http-response ^https:\/\/spclient\.wg\.spotify\.com\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$ script-path = https://raw.githubusercontent.com/Toovooo/Rules/master/Script/Spotify/SpotifyProto.js, requires-body = true, binary-body-mode = true, timeout = 10, tag = Spotify Proto
http-response ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json requires-body = 1, script-path = https://raw.githubusercontent.com/Toovooo/Rules/master/Script/Spotify/SpotifyLyrics.js, tag = Spotify Lyrics
http-response ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*) requires-body = 1, binary-body-mode = 1, script-path = https://raw.githubusercontent.com/Toovooo/Rules/master/Script/Spotify/SpotifyLyrics.js, tag = Spotify Lyrics

[Mitm]
hostname = spclient.wg.spotify.com
